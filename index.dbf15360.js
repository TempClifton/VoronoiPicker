!function(){const e={type:"change"},t={type:"start"},o={type:"end"};class n extends THREE.EventDispatcher{constructor(n,c){super();const i=this,a=-1,s=0,r=1,p=2,d=3,m=4;this.object=n,this.domElement=c,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:THREE.MOUSE.ROTATE,MIDDLE:THREE.MOUSE.DOLLY,RIGHT:THREE.MOUSE.PAN},this.target=new THREE.Vector3;const l=1e-6,E=new THREE.Vector3;let h=1,u=a,y=a,g=0,b=0,w=0;const v=new THREE.Vector3,f=new THREE.Vector2,j=new THREE.Vector2,T=new THREE.Vector3,R=new THREE.Vector2,L=new THREE.Vector2,H=new THREE.Vector2,V=new THREE.Vector2,k=[],D={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const e=i.domElement.getBoundingClientRect(),t=i.domElement.ownerDocument.documentElement;i.screen.left=e.left+window.pageXOffset-t.clientLeft,i.screen.top=e.top+window.pageYOffset-t.clientTop,i.screen.width=e.width,i.screen.height=e.height};const Y=function(){const e=new THREE.Vector2;return function(t,o){return e.set((t-i.screen.left)/i.screen.width,(o-i.screen.top)/i.screen.height),e}}(),x=function(){const e=new THREE.Vector2;return function(t,o){return e.set((t-.5*i.screen.width-i.screen.left)/(.5*i.screen.width),(i.screen.height+2*(i.screen.top-o))/i.screen.width),e}}();function z(e){!1!==i.enabled&&(0===k.length&&(i.domElement.setPointerCapture(e.pointerId),i.domElement.addEventListener("pointermove",C),i.domElement.addEventListener("pointerup",S)),function(e){k.push(e)}(e),"touch"===e.pointerType?function(e){if(1===(q(e),k.length))u=d,j.copy(x(k[0].pageX,k[0].pageY)),f.copy(j);else{u=m;const e=k[0].pageX-k[1].pageX,t=k[0].pageY-k[1].pageY;b=g=Math.sqrt(e*e+t*t);const o=(k[0].pageX+k[1].pageX)/2,n=(k[0].pageY+k[1].pageY)/2;H.copy(Y(o,n)),V.copy(H)}i.dispatchEvent(t)}(e):function(e){if(u===a)switch(e.button){case i.mouseButtons.LEFT:u=s;break;case i.mouseButtons.MIDDLE:u=r;break;case i.mouseButtons.RIGHT:u=p}const o=y!==a?y:u;o!==s||i.noRotate?o!==r||i.noZoom?o!==p||i.noPan||(H.copy(Y(e.pageX,e.pageY)),V.copy(H)):(R.copy(Y(e.pageX,e.pageY)),L.copy(R)):(j.copy(x(e.pageX,e.pageY)),f.copy(j));i.dispatchEvent(t)}(e))}function C(e){!1!==i.enabled&&("touch"===e.pointerType?function(e){if(1===(q(e),k.length))f.copy(j),j.copy(x(e.pageX,e.pageY));else{const t=function(e){const t=e.pointerId===k[0].pointerId?k[1]:k[0];return D[t.pointerId]}(e),o=e.pageX-t.x,n=e.pageY-t.y;b=Math.sqrt(o*o+n*n);const c=(e.pageX+t.x)/2,i=(e.pageY+t.y)/2;V.copy(Y(c,i))}}(e):function(e){const t=y!==a?y:u;t!==s||i.noRotate?t!==r||i.noZoom?t!==p||i.noPan||V.copy(Y(e.pageX,e.pageY)):L.copy(Y(e.pageX,e.pageY)):(f.copy(j),j.copy(x(e.pageX,e.pageY)))}(e))}function S(e){!1!==i.enabled&&("touch"===e.pointerType?function(e){switch(k.length){case 0:u=a;break;case 1:u=d,j.copy(x(e.pageX,e.pageY)),f.copy(j);break;case 2:u=m,j.copy(x(e.pageX-f.x,e.pageY-f.y)),f.copy(j)}i.dispatchEvent(o)}(e):(u=a,i.dispatchEvent(o)),O(e),0===k.length&&(i.domElement.releasePointerCapture(e.pointerId),i.domElement.removeEventListener("pointermove",C),i.domElement.removeEventListener("pointerup",S)))}function X(e){O(e)}function M(e){!1!==i.enabled&&(window.removeEventListener("keydown",M),y===a&&(e.code!==i.keys[s]||i.noRotate?e.code!==i.keys[r]||i.noZoom?e.code!==i.keys[p]||i.noPan||(y=p):y=r:y=s))}function P(){!1!==i.enabled&&(y=a,window.addEventListener("keydown",M))}function I(e){if(!1!==i.enabled&&!0!==i.noZoom){switch(e.preventDefault(),e.deltaMode){case 2:R.y-=.025*e.deltaY;break;case 1:R.y-=.01*e.deltaY;break;default:R.y-=25e-5*e.deltaY}i.dispatchEvent(t),i.dispatchEvent(o)}}function A(e){!1!==i.enabled&&e.preventDefault()}function O(e){delete D[e.pointerId];for(let t=0;t<k.length;t++)if(k[t].pointerId==e.pointerId)return void k.splice(t,1)}function q(e){let t=D[e.pointerId];void 0===t&&(t=new THREE.Vector2,D[e.pointerId]=t),t.set(e.pageX,e.pageY)}this.rotateCamera=function(){const e=new THREE.Vector3,t=new THREE.Quaternion,o=new THREE.Vector3,n=new THREE.Vector3,c=new THREE.Vector3,a=new THREE.Vector3;return function(){a.set(j.x-f.x,j.y-f.y,0);let s=a.length();s?(v.copy(i.object.position).sub(i.target),o.copy(v).normalize(),n.copy(i.object.up).normalize(),c.crossVectors(n,o).normalize(),n.setLength(j.y-f.y),c.setLength(j.x-f.x),a.copy(n.add(c)),e.crossVectors(a,v).normalize(),s*=i.rotateSpeed,t.setFromAxisAngle(e,s),v.applyQuaternion(t),i.object.up.applyQuaternion(t),T.copy(e),w=s):!i.staticMoving&&w&&(w*=Math.sqrt(1-i.dynamicDampingFactor),v.copy(i.object.position).sub(i.target),t.setFromAxisAngle(T,w),v.applyQuaternion(t),i.object.up.applyQuaternion(t)),f.copy(j)}}(),this.zoomCamera=function(){let e;u===m?(e=g/b,g=b,i.object.isPerspectiveCamera?v.multiplyScalar(e):i.object.isOrthographicCamera?(i.object.zoom/=e,i.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(e=1+(L.y-R.y)*i.zoomSpeed,1!==e&&e>0&&(i.object.isPerspectiveCamera?v.multiplyScalar(e):i.object.isOrthographicCamera?(i.object.zoom/=e,i.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),i.staticMoving?R.copy(L):R.y+=(L.y-R.y)*this.dynamicDampingFactor)},this.panCamera=function(){const e=new THREE.Vector2,t=new THREE.Vector3,o=new THREE.Vector3;return function(){if(e.copy(V).sub(H),e.lengthSq()){if(i.object.isOrthographicCamera){const t=(i.object.right-i.object.left)/i.object.zoom/i.domElement.clientWidth,o=(i.object.top-i.object.bottom)/i.object.zoom/i.domElement.clientWidth;e.x*=t,e.y*=o}e.multiplyScalar(v.length()*i.panSpeed),o.copy(v).cross(i.object.up).setLength(e.x),o.add(t.copy(i.object.up).setLength(e.y)),i.object.position.add(o),i.target.add(o),i.staticMoving?H.copy(V):H.add(e.subVectors(V,H).multiplyScalar(i.dynamicDampingFactor))}}}(),this.checkDistances=function(){i.noZoom&&i.noPan||(v.lengthSq()>i.maxDistance*i.maxDistance&&(i.object.position.addVectors(i.target,v.setLength(i.maxDistance)),R.copy(L)),v.lengthSq()<i.minDistance*i.minDistance&&(i.object.position.addVectors(i.target,v.setLength(i.minDistance)),R.copy(L)))},this.update=function(){v.subVectors(i.object.position,i.target),i.noRotate||i.rotateCamera(),i.noZoom||i.zoomCamera(),i.noPan||i.panCamera(),i.object.position.addVectors(i.target,v),i.object.isPerspectiveCamera?(i.checkDistances(),i.object.lookAt(i.target),E.distanceToSquared(i.object.position)>l&&(i.dispatchEvent(e),E.copy(i.object.position))):i.object.isOrthographicCamera?(i.object.lookAt(i.target),(E.distanceToSquared(i.object.position)>l||h!==i.object.zoom)&&(i.dispatchEvent(e),E.copy(i.object.position),h=i.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){u=a,y=a,i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.up.copy(i.up0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),v.subVectors(i.object.position,i.target),i.object.lookAt(i.target),i.dispatchEvent(e),E.copy(i.object.position),h=i.object.zoom},this.dispose=function(){i.domElement.removeEventListener("contextmenu",A),i.domElement.removeEventListener("pointerdown",z),i.domElement.removeEventListener("pointercancel",X),i.domElement.removeEventListener("wheel",I),i.domElement.removeEventListener("pointermove",C),i.domElement.removeEventListener("pointerup",S),window.removeEventListener("keydown",M),window.removeEventListener("keyup",P)},this.domElement.addEventListener("contextmenu",A),this.domElement.addEventListener("pointerdown",z),this.domElement.addEventListener("pointercancel",X),this.domElement.addEventListener("wheel",I,{passive:!1}),window.addEventListener("keydown",M),window.addEventListener("keyup",P),this.handleResize(),this.update()}}THREE.TrackballControls=n}();
//# sourceMappingURL=index.dbf15360.js.map
