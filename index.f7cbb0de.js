"use strict";lm.AllowTabsInTextArea=function(e){e.onkeydown=function(e){if(9==e.keyCode||9==e.which){event.preventDefault();let e=this.value,t=this.selectionStart,o=this.selectionEnd;console.log(t),console.log(o);let n=e.substring(0,t)+"\t"+e.substring(o);return this.value=n,this.selectionStart=this.selectionEnd=t+1,!1}}},lm.PageToElemCoords=function(e,t,o){let n=e.getBoundingClientRect(),s=document.body,u=document.documentElement,l=window.pageYOffset||u.scrollTop||s.scrollTop,m=window.pageXOffset||u.scrollLeft||s.scrollLeft,a=u.clientTop||s.clientTop||0,i=u.clientLeft||s.clientLeft||0,c=Math.round(n.top+l-a);return{x:t-Math.round(n.left+m-i),y:o-c}},lm.ElemPageOffset=function(e){let t=e.getBoundingClientRect(),o=document.body,n=document.documentElement,s=window.pageYOffset||n.scrollTop||o.scrollTop,u=window.pageXOffset||n.scrollLeft||o.scrollLeft,l=n.clientTop||o.clientTop||0,m=n.clientLeft||o.clientLeft||0,a=Math.round(t.top+s-l);return{x:Math.round(t.left+u-m),y:a}},lm.PagePointInElem=function(e,t,o){let n=lm.PageToElemCoords(e,t,o);return n.x>=0&&n.y>=0&&n.x<=e.offsetWidth&&n.y<=e.offsetHeight},lm.IsTextBox=function(e){let t=e.tagName.toLowerCase();if("textarea"===t)return!0;if("input"!==t)return!1;let o=e.getAttribute("type").toLowerCase();return["text","password","number","email","tel","url","search","date","datetime","datetime-local","time","month","week"].indexOf(o)>=0},lm.ToggleDropdown=function(e){let t=e;"string"==typeof t&&(t=document.getElementById(e)),lm.Assert(t,"Unknown dropdown element");let o=t.classList.contains("show");t.style.opacity=o?1:0,o?lm.FadeOut(t,.1,(function(){t.classList.toggle("show"),lm.DropdownShowingChange&&lm.DropdownShowingChange(!1)})):(lm.DropdownShowingChange&&lm.DropdownShowingChange(!0),t.classList.toggle("show"),lm.FadeIn(t,.1))},lm.ToggleVisibility=function(e){let t=e;"string"==typeof t&&(t=document.getElementById(e));let o="visible"==t.style.visibility;t.style.opacity=o?1:0,o?lm.FadeOut(t,.25,(function(){t.style.visibility="hidden"})):(t.style.visibility="visible",lm.FadeIn(t,.25))},lm.FadeIn=function(e,t,o){e.style.display="";let n=0,s=setInterval((function(){n>=1&&(clearInterval(s),o&&o()),e.style.opacity=n.toFixed(4),n+=1/30/t}),1e3/30)},lm.FadeOut=function(e,t,o){let n=1,s=setInterval((function(){n<=0&&(clearInterval(s),e.style.display="none",o&&o()),e.style.opacity=n.toFixed(4),n-=1/30/t}),1e3/30)},lm.InputHasFocus=function(){if(document.hasFocus()&&document.activeElement&&document.activeElement!==document.body&&document.activeElement!==document.documentElement){let e=document.activeElement.nodeName.toLowerCase();if("input"==e||"lm-number"==e)return!0}return!1},lm.ToggleFullscreen=function(){if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen();else{const e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}},lm.E=function(e){return document.getElementById(e)},lm.ConnectMouseEvents=function(e,t,o){(o=lm.Default(o,{})).handleClick=lm.Default(o.handleClick,!1),o.handleDoubleClick=lm.Default(o.handleDoubleClick,!1),o.handleMouseWheel=lm.Default(o.handleMouseWheel,!1),o.ignoreTouch=lm.Default(o.ignoreTouch,!1),o.preventDefault=lm.Default(o.preventDefault,!0),t._mouseState={mouseDown:!1,mousePoint:{x:0,y:0},mouseDownPoint:{x:0,y:0},options:o,callbacks:new Map};let n=function(o){o||(o=event),t._mouseState.options.preventDefault&&o.preventDefault(),t._mouseState.mouseDown=!0,t._mouseState.possibleClick=t._mouseState.options.handleClick,t._mouseState.mousePoint=lm.PageToElemCoords(e,o.pageX,o.pageY),t._mouseState.mouseDownPoint.x=t._mouseState.mousePoint.x,t._mouseState.mouseDownPoint.y=t._mouseState.mousePoint.y,t.OnMouseDown(o,t._mouseState.mousePoint)};t._mouseState.callbacks.set("mousedown",{elem:e,func:n}),e.addEventListener("mousedown",n,!1);let s=function(o){t._mouseState.mouseDown||(o||(o=event),t._mouseState.mousePoint=lm.PageToElemCoords(e,o.pageX,o.pageY),(lm.Abs(t._mouseState.mousePoint.x-t._mouseState.mouseDownPoint.x)>6||lm.Abs(t._mouseState.mousePoint.y-t._mouseState.mouseDownPoint.y)>6)&&(t._mouseState.possibleClick=!1),t.OnMouseMove(o,t._mouseState.mousePoint,t._mouseState.mouseDown))};t._mouseState.callbacks.set("mousemove",{elem:e,func:s}),e.addEventListener("mousemove",s,!1);let u=function(o){t._mouseState.mouseDown&&(o||(o=event),t._mouseState.mousePoint=lm.PageToElemCoords(e,o.pageX,o.pageY),(lm.Abs(t._mouseState.mousePoint.x-t._mouseState.mouseDownPoint.x)>6||lm.Abs(t._mouseState.mousePoint.y-t._mouseState.mouseDownPoint.y)>6)&&(t._mouseState.possibleClick=!1),t.OnMouseMove(o,t._mouseState.mousePoint,t._mouseState.mouseDown))};t._mouseState.callbacks.set("mousemove",{elem:document,func:u}),document.addEventListener("mousemove",u,!1);let l=function(o){t._mouseState.mouseDown&&(o||(o=event),t._mouseState.mouseDown=!1,t._mouseState.mousePoint=lm.PageToElemCoords(e,o.pageX,o.pageY),t.OnMouseUp(o,t._mouseState.mousePoint),t._mouseState.possibleClick&&t.OnClick(o,t._mouseState.mousePoint))};if(t._mouseState.callbacks.set("mouseup",{elem:document,func:l}),document.addEventListener("mouseup",l,!1),t._mouseState.options.handleMouseWheel){let o=function(o){o||(o=event),t._mouseState.options.preventDefault&&o.preventDefault(),t._mouseState.mousePoint=lm.PageToElemCoords(e,o.pageX,o.pageY),t.OnMouseWheel(o,t._mouseState.mousePoint)};t._mouseState.callbacks.set("mousewheel",{elem:e,func:o}),e.addEventListener("mousewheel",o,!1)}if(t._mouseState.options.handleDoubleClick){let o=function(o){o||(o=event),t._mouseState.options.preventDefault&&o.preventDefault(),t._mouseState.mousePoint=lm.PageToElemCoords(e,o.pageX,o.pageY),t.OnDoubleClick(o,t._mouseState.mousePoint)};t._mouseState.callbacks.set("dblclick",{elem:e,func:o}),e.addEventListener("dblclick",o,!1)}let m=function(o){if(o||(o=event),t._mouseState.options.ignoreTouch&&o.touches&&o.touches.length>0&&"direct"==o.touches[0].touchType)return;t._mouseState.options.preventDefault&&o.preventDefault(),o.touches&&o.touches.length>1&&(t._mouseState.possibleClick=!1);let n=t._mouseState.possibleClick;if(t._mouseState.mouseDown=!0,t._mouseState.possibleClick=t._mouseState.options.handleClick,t._mouseState.mousePoint=lm.PageToElemCoords(e,o.targetTouches[0].pageX,o.targetTouches[0].pageY),t._mouseState.mouseDownPoint.x=t._mouseState.mousePoint.x,t._mouseState.mouseDownPoint.y=t._mouseState.mousePoint.y,t._mouseState.options.handleDoubleClick){if(t._mouseState.doubleTapTimer){if(t._mouseState.doubleTapTimer.ElapsedTime()<1&&n&&lm.Abs(t._mouseState.mousePoint.x-t._mouseState.lastDoubleTapPoint.x)<128&&lm.Abs(t._mouseState.mousePoint.y-t._mouseState.lastDoubleTapPoint.y)<128)return void t.OnDoubleClick(o,t._mouseState.mousePoint)}else t._mouseState.doubleTapTimer=new lm.Stopwatch;t._mouseState.doubleTapTimer.Start(),t._mouseState.lastDoubleTapPoint={x:t._mouseState.mousePoint.x,y:t._mouseState.mousePoint.y}}t.OnMouseDown(o,t._mouseState.mousePoint)};t._mouseState.callbacks.set("touchstart",{elem:e,func:m}),e.addEventListener("touchstart",m,!1);let a=function(o){t._mouseState.mouseDown&&(o||(o=event),t._mouseState.options.ignoreTouch&&o.touches&&o.touches.length>0&&"direct"==o.touches[0].touchType||(t._mouseState.options.preventDefault&&o.preventDefault(),t._mouseState.mousePoint=lm.PageToElemCoords(e,o.targetTouches[0].pageX,o.targetTouches[0].pageY),(lm.Abs(t._mouseState.mousePoint.x-t._mouseState.mouseDownPoint.x)>6||lm.Abs(t._mouseState.mousePoint.y-t._mouseState.mouseDownPoint.y)>6)&&(t._mouseState.possibleClick=!1),t.OnMouseMove(o,t._mouseState.mousePoint,t._mouseState.mouseDown)))};t._mouseState.callbacks.set("touchmove",{elem:e,func:a}),e.addEventListener("touchmove",a,!1);let i=function(e){t._mouseState.mouseDown&&(e||(e=event),t._mouseState.options.ignoreTouch&&e.touches&&e.touches.length>0&&"direct"==e.touches[0].touchType||(t._mouseState.mouseDown=!1,t.OnMouseUp(e,t._mouseState.mousePoint),t._mouseState.possibleClick&&t.OnClick(e,t._mouseState.mousePoint)))};t._mouseState.callbacks.set("touchend",{elem:e,func:i}),e.addEventListener("touchend",i,!1);let c=function(e){t._mouseState.mouseDown&&(e||(e=event),t._mouseState.options.ignoreTouch&&e.touches&&e.touches.length>0&&"direct"==e.touches[0].touchType||(t._mouseState.mouseDown=!1,t.OnMouseUp(e,t._mouseState.mousePoint),t._mouseState.possibleClick&&t.OnClick(e,t._mouseState.mousePoint)))};t._mouseState.callbacks.set("touchcancel",{elem:e,func:c}),e.addEventListener("touchcancel",c,!1)},lm.DisconnectMouseEvents=function(e){if(!e||!e._mouseState||!e._mouseState.callbacks)for(let[t,o]of e._mouseState.callbacks)o.elem.removeEventListener(t,o.func)};
//# sourceMappingURL=index.f7cbb0de.js.map
